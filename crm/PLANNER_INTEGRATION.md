# ê³¨í”„ í”Œë˜ë„ˆ ì•± í†µí•© ê°€ì´ë“œ

## ğŸ“‹ ê°œìš”

ì´ ë¬¸ì„œëŠ” FACRM ê´€ë¦¬ì ì•±ì— í†µí•©ëœ ê³¨í”„ í”Œë˜ë„ˆ ì•±(myxplanner_app)ì˜ êµ¬ì¡°ì™€ ì‚¬ìš© ë°©ë²•ì„ ì„¤ëª…í•©ë‹ˆë‹¤.

## ğŸ—ï¸ ì•„í‚¤í…ì²˜

### Git ì„œë¸Œëª¨ë“ˆ êµ¬ì¡°

```
facrmv2/                          # ê´€ë¦¬ì CRM ì•± (ë©”ì¸ í”„ë¡œì íŠ¸)
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â””â”€â”€ side_bar_nav/
â”‚   â”‚       â””â”€â”€ side_bar_nav_widget.dart  # ê³¨í”„ í”Œë˜ë„ˆ ë²„íŠ¼ í¬í•¨
â”‚   â”œâ”€â”€ widgets/
â”‚   â”‚   â””â”€â”€ planner_app_popup.dart        # í•¸ë“œí° íŒì—… UI
â”‚   â””â”€â”€ services/
â”‚       â””â”€â”€ api_service.dart              # ê³µìœ  API ì„œë¹„ìŠ¤
â”œâ”€â”€ myxplanner_app/                # ê³¨í”„ í”Œë˜ë„ˆ ì•± (ì„œë¸Œëª¨ë“ˆ)
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ main.dart
â”‚   â”‚   â”œâ”€â”€ admin_member_select.dart
â”‚   â”‚   â””â”€â”€ main_page.dart
â”‚   â””â”€â”€ pubspec.yaml
â”œâ”€â”€ sync_planner.py                # ë™ê¸°í™” ìŠ¤í¬ë¦½íŠ¸
â””â”€â”€ .gitmodules                    # ì„œë¸Œëª¨ë“ˆ ì„¤ì •
```

## ğŸš€ ì‚¬ìš© ë°©ë²•

### 1. ê³¨í”„ í”Œë˜ë„ˆ ì•± ì—´ê¸°

1. ê´€ë¦¬ì CRM ì•± ì‹¤í–‰
2. ì™¼ìª½ ì‚¬ì´ë“œë°” í•˜ë‹¨ì˜ **"ê³¨í”„ í”Œë˜ë„ˆ ì•±"** ë²„íŠ¼ í´ë¦­ (íŒŒë€ìƒ‰ ê·¸ë¼ë°ì´ì…˜)
3. í•¸ë“œí° ëª¨ì–‘ íŒì—…ì´ ì—´ë¦¼
4. íšŒì› ì„ íƒ í™”ë©´ì—ì„œ ì›í•˜ëŠ” íšŒì› ì„ íƒ
5. ì„ íƒëœ íšŒì›ì˜ ê³¨í”„ í”Œë˜ë„ˆ ì•± ì‹¤í–‰

### 2. íšŒì› ì„ íƒ ë¡œì§

- **branch_id ê¸°ë°˜**: í˜„ì¬ ë¡œê·¸ì¸í•œ ê´€ë¦¬ìì˜ branch_idë¡œ íšŒì› ëª©ë¡ ì¡°íšŒ
- **ê²€ìƒ‰ ê¸°ëŠ¥**: íšŒì› ì´ë¦„ ë˜ëŠ” ì „í™”ë²ˆí˜¸ë¡œ ê²€ìƒ‰ ê°€ëŠ¥
- **ë…ë¦½ ë¡œê·¸ì¸**: íšŒì› ê°œì¸ ê³„ì • ì •ë³´ëŠ” ì ‘ê·¼í•˜ì§€ ì•ŠìŒ (ë³´ì•ˆ)

### 3. UI íŠ¹ì§•

- **í•¸ë“œí° ëª¨ì–‘ íŒì—…**: 420x900 í¬ê¸°ì˜ ëª¨ë°”ì¼ UI
- **ë…ë¦½ì  ì‹¤í–‰**: ì™„ì „íˆ ë¶„ë¦¬ëœ ë³„ë„ ì•±ì²˜ëŸ¼ ë™ì‘
- **ë‹«ê¸° ë²„íŠ¼**: ìš°ì¸¡ ìƒë‹¨ X ë²„íŠ¼ìœ¼ë¡œ ì¢…ë£Œ

## ğŸ”„ ë™ê¸°í™” ë°©ë²•

### ìë™ ë™ê¸°í™” (Python ìŠ¤í¬ë¦½íŠ¸)

```bash
# ê¸°ë³¸ ë™ê¸°í™” (main ë¸Œëœì¹˜ ìµœì‹ í™”)
python sync_planner.py

# íŠ¹ì • ë¸Œëœì¹˜ë¡œ ë™ê¸°í™”
python sync_planner.py --branch dev

# íŠ¹ì • ì»¤ë°‹ìœ¼ë¡œ ë™ê¸°í™”
python sync_planner.py --commit abc123
```

### ìˆ˜ë™ ë™ê¸°í™” (Git ëª…ë ¹ì–´)

```bash
# ì„œë¸Œëª¨ë“ˆ ì´ˆê¸°í™” (ìµœì´ˆ 1íšŒ)
git submodule init
git submodule update

# ìµœì‹  ë²„ì „ìœ¼ë¡œ ì—…ë°ì´íŠ¸
git submodule update --remote --merge

# íŠ¹ì • ì»¤ë°‹ìœ¼ë¡œ ì´ë™
cd myxplanner_app
git checkout <commit-hash>
cd ..
```

## ğŸ“¦ ì„¤ì¹˜ ë° ì´ˆê¸° ì„¤ì •

### ìƒˆë¡œìš´ í™˜ê²½ì—ì„œ í´ë¡ í•  ë•Œ

```bash
# ë©”ì¸ í”„ë¡œì íŠ¸ í´ë¡  (ì„œë¸Œëª¨ë“ˆ í¬í•¨)
git clone --recurse-submodules https://github.com/seojongik/facrmv2.git

# ë˜ëŠ” ì´ë¯¸ í´ë¡ í•œ ê²½ìš°
git submodule update --init --recursive
```

### ì„œë¸Œëª¨ë“ˆ ì¶”ê°€ (ì´ë¯¸ ì™„ë£Œë¨)

```bash
git submodule add https://github.com/seojongik/myxplanner_app.git myxplanner_app
```

## ğŸ”§ ê°œë°œ ê°€ì´ë“œ

### ê³¨í”„ í”Œë˜ë„ˆ ì•± ìˆ˜ì • ì‹œ

1. **myxplanner_app ë””ë ‰í† ë¦¬ì—ì„œ ì‘ì—…**
   ```bash
   cd myxplanner_app
   git checkout -b feature/new-feature
   # ì½”ë“œ ìˆ˜ì •...
   git add .
   git commit -m "Add new feature"
   git push origin feature/new-feature
   ```

2. **PR ìƒì„± ë° ë¨¸ì§€**
   - GitHubì—ì„œ PR ìƒì„±
   - ë¦¬ë·° í›„ main ë¸Œëœì¹˜ì— ë¨¸ì§€

3. **ê´€ë¦¬ì ì•±ì—ì„œ ìµœì‹ í™”**
   ```bash
   cd ..  # facrmv2ë¡œ ì´ë™
   python sync_planner.py
   ```

### ê³µìœ  ë°ì´í„° êµ¬ì¡°

ë‘ í”„ë¡œì íŠ¸ëŠ” ë™ì¼í•œ API ì„œë¹„ìŠ¤ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤:

- **ApiService.getCurrentBranchId()**: í˜„ì¬ ì§€ì  ID
- **ApiService.getData()**: ê³µí†µ ë°ì´í„° ì¡°íšŒ
- **v3_members í…Œì´ë¸”**: íšŒì› ì •ë³´ ê³µìœ 

## ğŸ› ï¸ ì£¼ìš” íŒŒì¼ ì„¤ëª…

### `lib/widgets/planner_app_popup.dart`

í•¸ë“œí° ëª¨ì–‘ íŒì—… UIì™€ íšŒì› ì„ íƒ ë¡œì§ì„ í¬í•¨í•©ë‹ˆë‹¤.

**ì£¼ìš” ì»´í¬ë„ŒíŠ¸:**
- `PlannerAppPopup`: í•¸ë“œí° ì™¸ê´€ (ë² ì ¤, ë…¸ì¹˜, í™ˆë°”)
- `_PlannerAppContent`: ì•± ì»¨í…ì¸  ê´€ë¦¬
- `_MemberSelectScreen`: íšŒì› ì„ íƒ í™”ë©´
- `_PlannerMainScreen`: í”Œë˜ë„ˆ ë©”ì¸ í™”ë©´ (ì„ì‹œ)

### `sync_planner.py`

ê³¨í”„ í”Œë˜ë„ˆ ì•± ì„œë¸Œëª¨ë“ˆ ë™ê¸°í™” ìŠ¤í¬ë¦½íŠ¸

**ê¸°ëŠ¥:**
- Git ì„¤ì¹˜ í™•ì¸
- ë¡œì»¬ ë³€ê²½ì‚¬í•­ ì²´í¬
- ì›ê²© ì €ì¥ì†Œ ìµœì‹ í™”
- íŠ¹ì • ë¸Œëœì¹˜/ì»¤ë°‹ ì²´í¬ì•„ì›ƒ
- ìƒíƒœ í™•ì¸ ë° ë¦¬í¬íŠ¸

### `myxplanner_app/` (ì„œë¸Œëª¨ë“ˆ)

ë…ë¦½ì ì¸ ê³¨í”„ í”Œë˜ë„ˆ ì•± í”„ë¡œì íŠ¸

**ì£¼ìš” íŒŒì¼:**
- `lib/main.dart`: ì•± ì§„ì…ì 
- `lib/admin_member_select.dart`: ê´€ë¦¬ììš© íšŒì› ì„ íƒ
- `lib/main_page.dart`: í”Œë˜ë„ˆ ë©”ì¸ í™”ë©´

## ğŸ“ ë²„ì „ ê´€ë¦¬ ì „ëµ

### ë©”ì¸ í”„ë¡œì íŠ¸ (facrmv2)

- ì„œë¸Œëª¨ë“ˆì€ **íŠ¹ì • ì»¤ë°‹ì„ ê°€ë¦¬í‚´** (ì•ˆì •ì„±)
- ë™ê¸°í™” í›„ ë³€ê²½ì‚¬í•­ì„ ì»¤ë°‹í•´ì•¼ í•¨
  ```bash
  git add myxplanner_app
  git commit -m "Update planner app to latest version"
  ```

### ì„œë¸Œëª¨ë“ˆ (myxplanner_app)

- ë…ë¦½ì ìœ¼ë¡œ ê°œë°œ ë° ë°°í¬
- main ë¸Œëœì¹˜ëŠ” í•­ìƒ ì•ˆì •ì ì¸ ìƒíƒœ ìœ ì§€
- feature ë¸Œëœì¹˜ì—ì„œ ì‘ì—… í›„ PR

## ğŸ› íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### ì„œë¸Œëª¨ë“ˆì´ ë¹„ì–´ìˆëŠ” ê²½ìš°

```bash
git submodule update --init --recursive
```

### ë™ê¸°í™” ì¶©ëŒ ë°œìƒ ì‹œ

```bash
cd myxplanner_app
git status  # ìƒíƒœ í™•ì¸
git stash   # ë¡œì»¬ ë³€ê²½ì‚¬í•­ ì„ì‹œ ì €ì¥
git pull origin main
git stash pop  # ë³€ê²½ì‚¬í•­ ë³µì›
```

### ì„œë¸Œëª¨ë“ˆ ì‚­ì œ í›„ ì¬ì¶”ê°€

```bash
git submodule deinit -f myxplanner_app
rm -rf .git/modules/myxplanner_app
git rm -f myxplanner_app
git submodule add https://github.com/seojongik/myxplanner_app.git myxplanner_app
```

## ğŸ” ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

1. **íšŒì› ê³„ì • ì •ë³´ ë³´í˜¸**
   - íšŒì›ì˜ ë¹„ë°€ë²ˆí˜¸/ì¸ì¦ ì •ë³´ì— ì§ì ‘ ì ‘ê·¼í•˜ì§€ ì•ŠìŒ
   - branch_id ê¸°ë°˜ìœ¼ë¡œ íšŒì› ëª©ë¡ë§Œ ì¡°íšŒ

2. **ê´€ë¦¬ì ê¶Œí•œ í™•ì¸**
   - ì‚¬ì´ë“œë°” ë²„íŠ¼ì€ ë¡œê·¸ì¸í•œ ê´€ë¦¬ìë§Œ ì ‘ê·¼ ê°€ëŠ¥
   - íšŒì› ì„ íƒ ì‹œ branch_idë¡œ ê¶Œí•œ ì œí•œ

3. **ë°ì´í„° ë¶„ë¦¬**
   - ê³¨í”„ í”Œë˜ë„ˆ ì•±ì€ ë…ë¦½ ì‹¤í–‰
   - ê´€ë¦¬ì CRMê³¼ ë°ì´í„° ê³µìœ ëŠ” ìµœì†Œí™”

## ğŸ“ ë¬¸ì˜

ë¬¸ì œê°€ ë°œìƒí•˜ë©´ ë‹¤ìŒì„ í™•ì¸í•˜ì„¸ìš”:

1. Python ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰: `python sync_planner.py`
2. Git ìƒíƒœ í™•ì¸: `git submodule status`
3. ë¡œê·¸ í™•ì¸: Flutter ì½˜ì†” ì¶œë ¥

---

**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2025-10-03
**ì‘ì„±ì**: Claude Code (AI Assistant)
